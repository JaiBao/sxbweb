<template>
  <q-layout view="hHh lpr fff">
    <q-header reveal elevated class="header" height-hint="98">
      <q-toolbar>
        <q-toolbar-title class="headerLogo">
          <img src="/head/logo.svg" class="logoImg" />
        </q-toolbar-title>

        <q-btn dense flat round icon="menu" @click="toggleRightDrawer" class="lt-sm" />
      </q-toolbar>

      <q-tabs indicator-color="transparent" active-color="white" align="center" id="headTabs" inline-label class="gt-xs">
        <q-route-tab to="/">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 50 50" fill="none">
            <path
              d="M39.9398 50.0018H30.9538C30.088 49.6778 29.7825 49.0435 29.7871 48.1407C29.8102 44.4185 29.801 40.6963 29.7964 36.9741C29.7964 35.3121 28.7871 34.3121 27.1158 34.3074C25.7315 34.3028 24.3519 34.3074 22.9677 34.3074C21.1621 34.3074 20.1899 35.275 20.1853 37.0667C20.1853 40.7565 20.1714 44.4463 20.1945 48.1361C20.1992 49.0389 19.8982 49.6778 19.0325 50.0018H10.0464C10.0047 49.9787 9.9677 49.937 9.9214 49.9324C7.58808 49.6454 5.28716 47.4787 5.32882 44.3074C5.39364 39.6083 5.34734 34.9047 5.34734 30.201C5.34734 30.0111 5.34734 29.826 5.34734 29.6732C4.64827 29.5898 4.00475 29.5898 3.4029 29.4324C-0.0970904 28.5111 -1.15727 24.2519 1.45383 21.6315C8.16678 14.9093 14.8936 8.19176 21.6204 1.47881C21.9075 1.19178 22.2223 0.923258 22.5603 0.710296C24.4399 -0.479516 26.7362 -0.155443 28.4306 1.539C34.875 7.9788 41.3148 14.4325 47.7732 20.8584C48.8056 21.8862 49.7454 22.9278 50 24.4186V25.5899C49.5324 26.8028 49.25 27.8723 48.1482 28.6917C47.0972 29.4787 45.9074 29.5991 44.6343 29.5991C44.6343 33.8213 44.6435 38.0435 44.6343 42.2657C44.6296 44.0806 44.8195 45.9278 43.7871 47.525C42.8704 48.9417 41.5093 49.5713 39.9398 49.9972V50.0018Z"
              fill="#6A3906" />
          </svg>
          主頁
        </q-route-tab>
        <q-route-tab class="routeTab" to="/aboutUs">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 45 45" fill="none">
            <path
              d="M0 26.91C0 25.92 0.7 25.1 1.62 25.01C9.6 24.29 15.96 18.27 16.73 9.76C16.82 8.77 17.58 8 18.5 8C19.43 8 20.18 8.77 20.27 9.76C21.04 18.27 27.4 24.29 35.38 25.01C36.29 25.09 37 25.92 37 26.91C37 27.91 36.29 28.73 35.37 28.81C27.4 29.45 21.05 34.82 20.28 43.24C20.19 44.23 19.43 45 18.51 45C17.58 45 16.83 44.23 16.74 43.24C15.96 34.82 9.62 29.45 1.65 28.81C0.71 28.73 0 27.91 0 26.91Z"
              fill="#6A3906" />
            <path
              d="M28.31 8.53C28.31 8.08 28.63 7.71 29.04 7.67C32.64 7.35 35.51 4.63 35.86 0.79C35.89 0.35 36.24 0 36.65 0C37.07 0 37.41 0.35 37.45 0.8C37.8 4.64 40.67 7.36 44.27 7.68C44.68 7.72 45 8.09 45 8.54C45 8.99 44.68 9.36 44.26 9.4C40.66 9.69 37.8 12.11 37.45 15.91C37.41 16.36 37.07 16.71 36.65 16.71C36.23 16.71 35.89 16.36 35.85 15.91C35.5 12.11 32.64 9.69 29.04 9.4C28.62 9.37 28.3 8.99 28.3 8.54L28.31 8.53Z"
              fill="#6A3906" />
          </svg>
          關於我們
        </q-route-tab>

        <q-route-tab to="/soy">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 50 50" fill="none">
            <path
              d="M25.1986 21.1946C27.2513 19.9678 29.0334 18.157 29.9966 15.9491L29.9894 15.9527C30.2816 15.2852 30.1878 14.5024 29.506 14.1056C28.936 13.7702 27.9512 13.9181 27.6589 14.5891C27.4497 15.0724 27.2044 15.5378 26.9158 15.978C26.8817 16.0321 26.8465 16.0851 26.8109 16.1376C26.7823 16.1797 26.7535 16.2213 26.7246 16.263C26.718 16.2696 26.6121 16.4175 26.5801 16.4624L26.5731 16.4721C26.4868 16.5845 26.3962 16.6936 26.3029 16.8003C26.2283 16.8857 26.1521 16.9698 26.0752 17.0531C25.7325 17.4246 25.3573 17.7601 24.9713 18.0883C24.8775 18.1678 24.7116 18.2904 24.4735 18.4563C24.2998 18.5731 24.1237 18.6874 23.9451 18.797L23.8349 18.8641C21.8905 20.0256 19.5816 20.5705 17.3774 20.7255C16.6739 20.7725 15.9957 21.3099 16.0282 22.0748C16.057 22.7637 16.6234 23.4782 17.3774 23.4239C20.1011 23.2328 22.832 22.605 25.1986 21.1946Z"
              fill="#6A3906" />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M20.047 46.6531C20.3753 46.6638 20.7036 46.671 21.0355 46.671L21.0319 46.6675C26.0211 46.6675 31.1691 45.2858 35.6281 42.7316C45.0907 37.313 50.7041 27.5835 49.9284 17.9513C49.3224 10.415 43.4889 4.42661 36.364 4.02252C32.7492 3.82048 29.3473 4.97849 26.2628 7.47489C24.7116 8.73032 23.1856 10.2383 21.3096 12.3668C20.0542 13.7954 18.7194 14.4593 16.9878 14.5206C12.7417 14.6721 9.22431 15.7506 6.23724 17.8177C4.13763 19.268 2.47455 21.1729 1.56185 23.1533C-1.40719 29.2755 -0.0831979 35.9891 5.01429 40.6717C9.03671 44.3694 14.2352 46.4366 20.047 46.6531ZM28.1929 9.85592C30.4829 8.00581 32.9594 7.06781 35.5667 7.06728C35.7724 7.06728 35.978 7.0745 36.1872 7.08525C41.7898 7.40285 46.3822 12.1829 46.8692 18.2002C47.5511 26.6528 42.5401 35.2387 34.1021 40.073C29.8379 42.5188 24.8847 43.767 20.1552 43.5903C15.083 43.4027 10.5627 41.6132 7.08503 38.417C2.96159 34.629 1.92981 29.4234 4.33246 24.463C5.03232 22.9441 6.32743 21.4796 7.9797 20.3358C10.4689 18.6115 13.4524 17.7096 17.096 17.5798C19.6718 17.4896 21.8003 16.4434 23.6113 14.3906C25.3717 12.3957 26.7823 10.996 28.1929 9.85592Z"
              fill="#6A3906" />
          </svg>
          頂級豆奶
        </q-route-tab>
        <q-route-tab to="/cookie">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 50 50" fill="none">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M46.2974 33.4866C47.3469 31.5958 47.4748 29.3899 47.4268 27.2695L47.4215 27.2909C47.4103 26.8023 47.381 26.3112 47.3516 25.8192C47.3389 25.6066 47.3262 25.3939 47.3149 25.1811C47.2936 24.7805 47.2776 24.3799 47.2776 23.9794C47.2798 23.5544 47.3346 23.1367 47.3892 22.7198C47.467 22.1256 47.5446 21.5332 47.4694 20.9242C47.2617 19.2097 46.8301 17.2655 46.2228 15.6418C45.6101 14.0075 44.3528 12.6775 43.0901 11.5185C42.1672 10.6716 41.5017 9.77518 40.8048 8.83653C40.504 8.43139 40.1973 8.01838 39.8616 7.59809C39.7071 7.40581 39.5473 7.21887 39.3821 7.04261C35.9565 3.36257 31.5239 3.3412 26.8729 3.34654C26.6438 3.34654 26.4201 3.34654 26.191 3.33586C25.3104 3.30419 24.4562 3.10893 23.6082 2.91511C22.1681 2.58593 20.746 2.26089 19.2438 2.74834C17.4117 3.33989 15.8641 4.55941 14.3509 5.7518C13.9104 6.09896 13.4727 6.44382 13.0318 6.77021C12.2927 7.31592 11.4858 7.71336 10.6848 8.10787C9.99625 8.447 9.31209 8.78398 8.67917 9.21111C7.51242 9.99626 6.65468 11.3796 6.24445 12.7149C6.09861 13.1878 6.00735 13.6763 5.91606 14.1651C5.79392 14.8189 5.67173 15.4731 5.41867 16.0905C5.12483 16.8046 4.65482 17.4169 4.18428 18.0299C3.86996 18.4394 3.5554 18.8492 3.29296 19.2898C2.07294 22.5479 2.27539 26.3134 3.79908 29.4327C3.89498 29.6303 3.98555 29.8333 4.07079 30.0362C4.188 30.2926 4.28922 30.5543 4.37446 30.816C4.67799 31.7245 4.65735 32.7185 4.63681 33.708C4.60759 35.1152 4.57857 36.513 5.4826 37.642C6.0793 38.3898 6.89442 38.9292 7.69356 39.4526C8.69867 40.1108 9.50261 40.9881 10.3066 41.8655C10.9772 42.5973 11.6478 43.3291 12.4351 43.9338C13.8481 45.0153 15.5598 45.2675 17.276 45.5205C18.2129 45.6585 19.1512 45.7968 20.0429 46.0703C20.4262 46.1868 20.8215 46.3194 21.2231 46.4542C21.9267 46.6904 22.6498 46.9331 23.362 47.1065C24.1038 47.2858 24.8311 47.3165 25.5632 47.3474C26.009 47.3662 26.4565 47.3851 26.9102 47.4376C28.338 47.6032 29.8883 47.4537 31.1936 46.8127C31.6601 46.5835 32.0989 46.3291 32.5338 46.0769C33.3655 45.5947 34.183 45.1208 35.152 44.8472C35.317 44.8001 35.4838 44.7536 35.6517 44.7068C37.0831 44.3077 38.593 43.8867 39.7231 42.8923C40.7758 41.9702 41.5093 40.6108 42.2237 39.287C42.5976 38.5941 42.9662 37.911 43.3725 37.3055C44.1397 36.1625 44.9761 35.0889 45.9138 34.1222C46.0523 33.9139 46.1802 33.7002 46.2974 33.4866ZM14.8645 13.4466C13.2822 12.1915 11.2844 12.9446 10.7037 14.4454V14.4508C10.1176 15.9516 10.091 17.3724 12.1848 17.5379C15.36 17.789 16.4468 14.6965 14.8645 13.4466ZM22.5363 7.4058C22.3978 6.19871 23.4473 5.22662 24.6194 5.58448C25.5304 5.86756 26.4095 6.73816 26.6705 7.65684C26.7185 7.83309 26.7558 8.02003 26.7717 8.21232C26.7353 9.86113 25.7176 9.65455 24.5133 9.41008C24.4848 9.4043 24.4563 9.3985 24.4276 9.39271C23.4899 9.20043 22.6482 8.38323 22.5363 7.4058ZM20.4069 21.9798C20.5471 22.0015 20.6869 22.0231 20.8368 21.9925V21.9871L20.8462 21.9838C20.8574 21.9798 20.8668 21.9764 20.8794 21.9764C21.0213 21.9374 21.1444 21.8487 21.2675 21.7601C21.3801 21.679 21.4927 21.5978 21.6199 21.5545C21.9769 21.4316 22.3711 21.437 22.7334 21.5385C24.4329 22.0138 24.4702 24.193 23.3674 25.2933C21.4335 27.2268 16.6706 24.4547 19.0201 22.4358C19.2971 22.2008 19.6487 22.0192 20.011 21.9604C20.1488 21.9399 20.278 21.9599 20.4069 21.9798ZM29.5741 15.0169C29.7232 15.2466 29.8724 15.3481 30.0376 15.3855C30.3084 15.4464 30.5629 15.429 30.8022 15.4127C31.2972 15.3789 31.7276 15.3495 32.1047 16.0264C32.4137 16.5712 32.3018 17.319 31.9928 17.8477C31.5612 18.5901 30.6822 19.0708 29.8298 19.0708C28.4766 19.0762 27.4856 17.7997 27.1447 16.6032C26.8463 15.5564 27.2352 13.3024 28.9028 14.0395C29.2206 14.1831 29.2957 14.3818 29.3849 14.6175C29.4317 14.7413 29.4823 14.8753 29.5741 15.0169ZM8.83903 28.765C9.90455 27.0558 12.0303 27.4831 13.2503 28.6315H13.2556C13.3408 28.7437 13.4314 28.8772 13.5167 29.0321C13.6308 29.2247 13.6853 29.4334 13.7448 29.6611C13.7991 29.8692 13.8576 30.0931 13.9695 30.3353C14.0015 30.5757 14.0175 30.816 14.0015 31.035C13.9802 31.254 13.9322 31.4569 13.8523 31.6172C13.7671 31.7774 13.6498 31.9003 13.49 31.9644C12.9891 31.9004 12.4285 31.9509 11.866 32.0015C10.5498 32.12 9.22311 32.2395 8.62592 30.8961C8.41282 30.2552 8.41282 29.406 8.83903 28.765ZM17.9865 38.5713C17.1341 37.2948 18.1996 35.7993 19.4037 35.3239V35.3186C19.5635 35.2331 19.734 35.1637 19.9098 35.1156C22.451 34.3038 23.7297 37.5031 22.4777 39.3725C22.4191 39.5007 22.3392 39.6449 22.2433 39.7678C22.0568 40.0188 21.8171 40.2057 21.588 40.1256C21.4761 40.0829 21.3642 39.9761 21.263 39.7731C20.8676 39.1172 20.1817 39.0738 19.5017 39.0308C18.9357 38.995 18.3737 38.9595 17.9865 38.5713ZM32.403 26.7941C34.0705 27.1734 34.1824 29.1656 33.6017 30.4742V30.4795C33.1755 31.4463 32.2059 31.9911 31.1617 32.1192C29.5847 32.3169 27.8426 31.5638 27.5922 29.892C27.4056 28.641 28.2911 28.5753 29.1758 28.5096C29.9078 28.4552 30.6391 28.4009 30.7621 27.6754C30.89 26.9063 31.7211 26.6392 32.403 26.7941ZM39.5045 11.9122C39.5567 11.92 39.6084 11.9278 39.6592 11.9351C39.7977 11.9565 39.9309 11.9992 40.0641 12.0526C41.2362 12.6615 42.2324 14.173 41.2362 15.4442C41.1296 15.5831 41.0124 15.7059 40.8899 15.8074C40.5169 16.1119 40.0748 16.24 39.7178 16.0317C39.6214 15.9351 39.5249 15.8335 39.4239 15.7271L39.4088 15.7113C39.232 15.4771 38.994 15.2298 38.7452 14.9713C37.9667 14.1626 37.0829 13.2443 37.64 12.2769C37.9824 11.685 38.7961 11.8065 39.5045 11.9122ZM39.1584 26.6713C38.5777 24.9675 41.4067 23.7871 42.5734 24.5402C42.5734 24.5402 43.3352 24.6577 44.0012 25.5764C44.6671 26.4897 44.6512 27.3763 43.3193 28.295C41.9874 29.2137 39.7391 28.3751 39.1584 26.6713ZM36.3347 38.6513C36.2373 38.8947 36.1429 39.1307 36.095 39.3298L36.0897 39.3351C36.0364 39.5007 35.9672 39.6663 35.8766 39.8372C35.786 40.0028 35.6742 40.1737 35.5356 40.3339C35.4397 40.4461 35.3332 40.5582 35.2107 40.6597C34.6086 41.1671 33.7669 41.4769 33.0263 41.1511C32.5788 40.9535 32.2379 40.5262 32.142 40.0455C32.0141 39.3779 32.4137 38.7156 32.8186 38.2188C32.9091 38.1067 33.0104 37.9998 33.1169 37.9037C33.2235 37.8076 33.3353 37.7168 33.4525 37.6366C34.1505 36.8729 35.4238 36.8729 36.2762 37.0865C36.8994 37.2397 36.6056 37.974 36.3347 38.6513Z"
              fill="#6A3906" />
          </svg>
          新鮮餅
        </q-route-tab>
        <q-route-tab to="/recommend">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 50 50" fill="none">
            <g clip-path="url(#clip0_4_238)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M12.3321 9.38295V11.0676H12.3099H11.7321C11.1476 11.0676 10.5623 11.0652 9.97665 11.0628C8.41347 11.0563 6.84762 11.0497 5.28765 11.0895C2.38765 11.1661 0.00987652 13.5291 0.00987652 16.3843C-0.00493941 21.4388 7.45104e-07 26.4884 0.00493947 31.5364C0.00740817 34.0598 0.00987652 36.5828 0.00987652 39.1058C0.0209877 40.4186 0.498765 41.5782 1.37654 42.5737C2.56543 43.8974 4.07654 44.4443 5.86543 44.4443H44.1432C44.2265 44.4443 44.3127 44.4416 44.3988 44.4389C44.4849 44.4361 44.571 44.4334 44.6543 44.4334C47.721 44.2802 49.9988 41.972 49.9988 38.9417C50.0062 33.9679 50.0037 28.994 50.0012 24.0201C50 21.5332 49.9988 19.0463 49.9988 16.5593C49.9988 16.1327 49.9543 15.6951 49.8543 15.2794C49.2321 12.7523 47.0877 11.1005 44.3765 11.0786C43.0066 11.0713 41.6416 11.0737 40.2749 11.0762C39.5909 11.0774 38.9066 11.0786 38.221 11.0786H37.6877V9.43765C37.6765 6.51678 35.6099 4.4492 32.6432 4.4492C29.2502 4.4419 25.8523 4.44434 22.456 4.44677C20.7584 4.44798 19.0613 4.4492 17.3654 4.4492C16.9099 4.4492 16.4321 4.48202 15.9877 4.60235C13.6988 5.23685 12.3321 7.03094 12.3321 9.38295ZM12.8099 27.7833C12.7765 21.1977 18.2543 15.7826 24.9988 15.7607C31.6877 15.7389 37.1765 21.1102 37.2099 27.7177C37.2432 34.3033 31.7654 39.7184 25.021 39.7403C18.3321 39.7622 12.8543 34.3909 12.8099 27.7833ZM25.0099 35.6711C29.4543 35.6602 33.0765 32.1267 33.0765 27.7618L33.0654 27.7727C33.0765 23.4188 29.4543 19.8525 25.021 19.8415C20.5765 19.8306 16.9321 23.4078 16.9432 27.7727C16.9654 32.1376 20.5654 35.6711 25.0099 35.6711Z"
                fill="#6A3906" />
            </g>
            <defs>
              <clipPath id="clip0_4_238">
                <rect width="50" height="50" fill="white" />
              </clipPath>
            </defs>
          </svg>
          網紅推薦
        </q-route-tab>
      </q-tabs>
    </q-header>

    <!-- 漢堡 -->
    <q-drawer v-model="rightDrawerOpen" side="right" behavior="mobile" bordered class="column bg-white text-black items-end" :width="200" style="z-index: 2999">
      <div class="row">
        <q-icon @click="rightDrawerOpen = false" name="close" size="md" style="text-align: right"></q-icon>
      </div>
      <q-list class="drawerList">
        <q-item clickable to="/" class="column items-end" exact>
          <q-item-section class="drawerItem">主頁</q-item-section>
        </q-item>
        <q-item clickable to="/aboutUs" class="column items-end" exact>
          <q-item-section class="drawerItem">關於我們</q-item-section>
        </q-item>

        <q-item class="column items-end" clickable to="/recommend" @click="rightDrawerOpen = false">
          <q-item-section class="drawerItem">網紅推薦</q-item-section>
        </q-item>
        <q-item class="column items-end" style="padding-bottom: 0" exact>
          <q-item-section class="drawerItem2 text-left">商品專區</q-item-section>
          <div class="greyLine2 w-100"></div>
        </q-item>
        <q-item class="column items-end" clickable to="/soy" @click="rightDrawerOpen = false" style="padding-top: 0; padding-bottom: 0">
          <q-item-section class="drawerItem">頂級豆奶</q-item-section>
        </q-item>
        <q-item class="column items-end" clickable to="/cookie" @click="rightDrawerOpen = false" style="padding-top: 0; padding-bottom: 0">
          <q-item-section class="drawerItem">新纖餅</q-item-section>
        </q-item>
      </q-list>
    </q-drawer>

    <q-page-container>
      <slot />
    </q-page-container>

    <q-footer class="q-footer">
      <div class="footerContainer">
        <div class="footerLogo">
          <img src="/head/logo.svg" alt="少小白" />
        </div>
        <div class="footerBottom">
          <div class="footerList">
            <div class="list1">
              <div class="listTitle">關於我們</div>

              <div class="greyLine gt-sm"></div>
              <div class="greyLine3 lt-md"></div>
              <div class="listContent">
                <router-link to="/aboutUs" class="textHover"><p>關於我們</p></router-link>
                <router-link to="/recommend" class="textHover"><p>網紅推薦</p></router-link>
              </div>
            </div>

            <div class="list2">
              <div class="listTitle">商品專區</div>
              <div class="greyLine gt-sm"></div>
              <div class="greyLine3 lt-md"></div>
              <div class="listContent">
                <router-link to="/soy" class="textHover"><p>頂級豆奶</p></router-link>
                <router-link to="/cookie" class="textHover"><p>新纖餅</p></router-link>
              </div>
            </div>
          </div>
          <div class="footerTxt">
            <p>
              香臨食品股份有限公司
              <span class="pointer" @click="dialNumber">(02) 2278-2325</span>
            </p>
            <p>新北市三重區光復路二段69號18樓</p>
            <p>週一至週五 09：00 - 18：00</p>
            <div class="icons">
              <img src="/footer/fb.png" alt="fb" class="pointer" @click="onMessengerFB" />
              <img src="/footer/ig.png" alt="ig" class="pointer" @click="onMessengerIg" />
              <img src="/footer/line.png" alt="line" class="pointer" @click="onMessengerLine" />
            </div>
          </div>
        </div>
        <div class="footerPrivacy">
          <p>
            Copyright © 2024香臨食品股份有限公司
            <br class="lt-sm" />
            著作權所有 |
            <router-link to="/privacy">隱私權政策</router-link>
            |
          </p>
        </div>

        <!-- <img src="/default/footerImg1.png" alt="黃豆" class="footerImg1" />

        <img src="/default/footerImg2.png" alt="商品" class="footerImg2" /> -->
      </div>
    </q-footer>

    <!-- 浮動按钮 -->
    <div class="floating-buttons">
      <button ref="button" class="vertical-fab" @mouseenter="startAnimation" @mouseleave="reverseAnimation">
        <div class="icon-wrapper">
          <q-icon name="shopping_cart" class="fab icon-1" size="md" color="white" />
          <q-icon name="storefront" class="fab icon-2" size="md" color="white" @click="toBuy" />
        </div>
      </button>
    </div>

    <q-btn class="scroll-to-top" :class="{ visible: isScrolled, 'at-bottom': atBottom }" round icon="keyboard_control_key" @click="scrollToTop" />
  </q-layout>
</template>

<script setup>
import { useUniversal } from '~/stores/universal'
import { gsap } from 'gsap'

const { toBuy, onMessengerFB, onMessengerIg, dialNumber, onMessengerLine } = useUniversal()
const rightDrawerOpen = ref(false)
const button = ref(null)
const isScrolled = ref(false)
const atBottom = ref(false)

const toggleRightDrawer = () => {
  rightDrawerOpen.value = !rightDrawerOpen.value
}

const scrollToTop = () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  })
}

const handleScroll = () => {
  const scrolledOver50px = window.scrollY > 50
  const windowHeight = window.innerHeight
  const documentHeight = document.documentElement.scrollHeight
  const scrolledToBottom = window.scrollY + windowHeight >= documentHeight

  isScrolled.value = scrolledOver50px
  atBottom.value = scrolledToBottom
}

const startAnimation = () => {
  gsap.to(button.value, { backgroundColor: '#6a3906', duration: 0.3 })
  gsap.to('.icon-1', { left: '150%', duration: 0.5 })
  gsap.fromTo('.icon-2', { left: '-100%' }, { left: '50%', duration: 0.5 })
}

const reverseAnimation = () => {
  gsap.to(button.value, { backgroundColor: '#f7b52c', duration: 0.3 })
  gsap.to('.icon-1', { left: '50%', duration: 0.2 })
  gsap.to('.icon-2', { left: '-100%', duration: 0.2 })
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
  button.value.addEventListener('mouseenter', startAnimation)
  button.value.addEventListener('mouseleave', reverseAnimation)
  gsap.set(button.value, { backgroundColor: '#f7b52c' })
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll)
  button.value.removeEventListener('mouseenter', startAnimation)
  button.value.removeEventListener('mouseleave', reverseAnimation)
})
</script>

<style lang="scss" scoped>
@import '/assets/default.scss';
</style>
